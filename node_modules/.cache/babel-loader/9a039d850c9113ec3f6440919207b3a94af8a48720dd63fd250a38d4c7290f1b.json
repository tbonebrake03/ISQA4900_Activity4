{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport db from '../firebaseDb';\nimport Navbar from '../components//Navbar.vue';\nexport default {\n  name: 'Edit',\n  components: {\n    Navbar\n  },\n  data() {\n    return {\n      subscription: {}\n    };\n  },\n  created() {\n    let dbRef = db.collection('subscriptions').doc(this.$route.params.id);\n    dbRef.get().then(doc => {\n      this.subscription = doc.data();\n    }).catch(error => {\n      console.log(error);\n      alert('Error accessing database');\n      this.$router.push('/');\n    });\n  },\n  methods: {\n    onUpdateForm(event) {\n      event.preventDefault();\n      db.collection('subscriptions').doc(this.$route.params.id).update(this.subscription).then(() => {\n        //  alert('Subscription successfully updated!');\n        this.$router.push('/subscriptionsList');\n      }).catch(error => {\n        console.log(error);\n        alert('Error updating subscription');\n        this.$router.push('/subscriptionsList');\n      });\n    },\n    cancelOperation() {\n      this.$router.push('/subscriptionsList');\n    },\n    updateSubscription() {\n      db.collection('subscriptions').doc(this.$route.params.id).update(this.subscription).then(() => {\n        //alert('Subscription successfully updated!');\n        this.$router.push('/subscriptionsList');\n      }).catch(error => {\n        console.log(error);\n        alert('Error updating subscription');\n        this.$router.push('/subscriptionsList');\n      });\n    }\n  }\n};","map":{"version":3,"names":["db","Navbar","name","components","data","subscription","created","dbRef","collection","doc","$route","params","id","get","then","catch","error","console","log","alert","$router","push","methods","onUpdateForm","event","preventDefault","update","cancelOperation","updateSubscription"],"sources":["/Users/tbonebrake/Desktop/FullStackDevelopment/subscriptions/subscriptions/src/components/Edit.vue"],"sourcesContent":["<template>\n    <div class=\"app\">\n      <Navbar />\n      <div class=\"row justify-content-center\">\n        <div class=\"col-md-5\">\n          <h3 class=\"text-center\">Update Subscription</h3>\n          <form @submit.prevent=\"onUpdateForm\">\n            <div class=\"form-group\">\n              <label>Name</label>\n              <input type=\"text\" class=\"form-control\" v-model=\"subscription.name\" required>\n            </div>\n  \n            <div class=\"form-group\">\n              <label>Description</label>\n              <input type=\"text\" class=\"form-control\" v-model=\"subscription.description\" required>\n            </div>\n  \n            <div class=\"form-group\">\n              <label>Amount</label>\n              <input type=\"text\" class=\"form-control\" v-model=\"subscription.amount\" required>\n            </div>\n  \n            <div class=\"form-group\">\n              <label>Payment Frequency</label>\n              <select id='frequency' class=\"form-control\" v-model=\"subscription.frequency\" required>\n                <option value='weekly'>Weekly</option>\n                <option value='bimonthly'>Bi-monthly</option>\n                <option value='monthly'>Monthly</option>\n                <option value='quarterly'>Quarterly</option>\n                <option value='biannually'>Bi-annually</option>\n                <option value='annually'>Annually</option>\n              </select>\n            </div>\n\n            <div class=\"form-group\">\n              <label>Year Started</label>\n              <input type=\"text\" class=\"form-control\" v-model=\"subscription.start\" required>\n            </div>\n\n            <div class=\"form-group\">\n              <button class=\"btn btn-primary btn-block\" @click=\"updateSubscription\">Update Subscription</button>\n              <button class=\"btn btn-primary col-4\" @click=\"cancelOperation\">Cancel</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </template>\n    \n  <script>\n  import db from '../firebaseDb'\n  import Navbar from '../components//Navbar.vue'\n  \n  export default {\n    name: 'Edit',\n    components: {\n      Navbar\n    },\n    data() {\n      return {\n        subscription: {},\n      }\n    },\n    created() {\n      let dbRef = db.collection('subscriptions').doc(this.$route.params.id)\n      dbRef.get().then((doc) => {\n        this.subscription = doc.data()\n      }).catch((error) => {\n        console.log(error)\n        alert('Error accessing database');\n        this.$router.push('/')\n      })\n    },\n    methods: {\n  \n      onUpdateForm(event) {\n        event.preventDefault()\n        db.collection('subscriptions').doc(this.$route.params.id)\n          .update(this.subscription).then(() => {\n            //  alert('Subscription successfully updated!');\n            this.$router.push('/subscriptionsList')\n          }).catch((error) => {\n            console.log(error)\n            alert('Error updating subscription');\n            this.$router.push('/subscriptionsList')\n          })\n      },\n      cancelOperation() {\n        this.$router.push('/subscriptionsList')\n      },\n      updateSubscription() {\n        db.collection('subscriptions').doc(this.$route.params.id)\n          .update(this.subscription).then(() => {\n            //alert('Subscription successfully updated!');\n            this.$router.push('/subscriptionsList')\n          }).catch((error) => {\n            console.log(error)\n            alert('Error updating subscription');\n            this.$router.push('/subscriptionsList')\n          })\n      },\n    }\n  }\n  </script>\n  "],"mappings":";AAkDE,OAAOA,EAAC,MAAO,eAAc;AAC7B,OAAOC,MAAK,MAAO,2BAA0B;AAE7C,eAAe;EACbC,IAAI,EAAE,MAAM;EACZC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE,CAAC;IACjB;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAIC,KAAI,GAAIP,EAAE,CAACQ,UAAU,CAAC,eAAe,CAAC,CAACC,GAAG,CAAC,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE;IACpEL,KAAK,CAACM,GAAG,CAAC,CAAC,CAACC,IAAI,CAAEL,GAAG,IAAK;MACxB,IAAI,CAACJ,YAAW,GAAII,GAAG,CAACL,IAAI,CAAC;IAC/B,CAAC,CAAC,CAACW,KAAK,CAAEC,KAAK,IAAK;MAClBC,OAAO,CAACC,GAAG,CAACF,KAAK;MACjBG,KAAK,CAAC,0BAA0B,CAAC;MACjC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG;IACvB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IAEPC,YAAYA,CAACC,KAAK,EAAE;MAClBA,KAAK,CAACC,cAAc,CAAC;MACrBzB,EAAE,CAACQ,UAAU,CAAC,eAAe,CAAC,CAACC,GAAG,CAAC,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE,EACrDc,MAAM,CAAC,IAAI,CAACrB,YAAY,CAAC,CAACS,IAAI,CAAC,MAAM;QACpC;QACA,IAAI,CAACM,OAAO,CAACC,IAAI,CAAC,oBAAoB;MACxC,CAAC,CAAC,CAACN,KAAK,CAAEC,KAAK,IAAK;QAClBC,OAAO,CAACC,GAAG,CAACF,KAAK;QACjBG,KAAK,CAAC,6BAA6B,CAAC;QACpC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,oBAAoB;MACxC,CAAC;IACL,CAAC;IACDM,eAAeA,CAAA,EAAG;MAChB,IAAI,CAACP,OAAO,CAACC,IAAI,CAAC,oBAAoB;IACxC,CAAC;IACDO,kBAAkBA,CAAA,EAAG;MACnB5B,EAAE,CAACQ,UAAU,CAAC,eAAe,CAAC,CAACC,GAAG,CAAC,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE,EACrDc,MAAM,CAAC,IAAI,CAACrB,YAAY,CAAC,CAACS,IAAI,CAAC,MAAM;QACpC;QACA,IAAI,CAACM,OAAO,CAACC,IAAI,CAAC,oBAAoB;MACxC,CAAC,CAAC,CAACN,KAAK,CAAEC,KAAK,IAAK;QAClBC,OAAO,CAACC,GAAG,CAACF,KAAK;QACjBG,KAAK,CAAC,6BAA6B,CAAC;QACpC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,oBAAoB;MACxC,CAAC;IACL;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}